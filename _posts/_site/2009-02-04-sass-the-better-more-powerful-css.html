<p>I am a huge fan of <a href="http://haml.hamptoncatlin.com/docs/rdoc/classes/Sass.html"><span class="caps">SASS</span></a> (Syntactically Awesome Stylesheets) for styling Rails applications. I have been using it on all of my projects for quite a while now and have developed some great techniques that make it much easier to organize, write, and read stylesheets in an application.</p>
<p>Unlike <span class="caps">HAML</span>, <span class="caps">SASS</span> retains most of the same &#8220;feel&#8221; when writing the code as vanilla <span class="caps">CSS</span>. It simply adds more power and better organizational tools, making it an easy choice as a go-to replacement. You can teach someone the basics of <span class="caps">SASS</span> in about 30 seconds: use two spaces to indent everything, put the colon before the declaration and no semicolon afterwards. In fact, I&#8217;ve even written regular expressions to convert <span class="caps">CSS</span> to <span class="caps">SASS</span> mechanically in some cases. It&#8217;s easy to pick up and once you do you will start reaping real benefits.</p>
<h3>The 20-Second &#8220;Get Up And Running&#8221;</h3>
<p>To use <span class="caps">SASS</span>, you must have the <span class="caps">HAML</span> gem installed on your Rails app. Add it to your <code>environment.rb</code>:</p>
<pre name='code' class='ruby'>config.gem 'haml', :version =&gt; '&gt;= 2.0.6'</pre>
<p>Now you can create <span class="caps">SASS</span> stylesheets simply by making <code>.sass</code> files in a <code>public/stylesheets/sass</code> directory.</p>
<h3>Basic Example: Building a Menu the <span class="caps">SASS</span> Way</h3>
<p>The best way to start explaining the power of <span class="caps">SASS</span> may be through one of the more common styling tasks one encounters: styling a menu. Here we&#8217;ll assume a menu structure like this:</p>
<pre name='code' class='html'>&lt;ul id='menu'&gt;
  &lt;li&gt;&lt;a href='/'&gt;Home&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href='/about'&gt;About&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href='/services'&gt;Services&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href='/contact'&gt;Contact&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</pre>
<p>To style this menu in <span class="caps">CSS</span>, we might do something like this:</p>
<pre name='code' class='css'>#menu {
  margin: 0;
  list-style: none;
}

#menu li {
  float: left;
}

#menu li a {
  display: block;
  float: left;
  padding: 4px 8px;
  text-decoration: none;
  background: #2277aa;
  color: white;
}</pre>
<p><span class="caps">SASS</span> allows you to use indentation to indicate hierarchy, saving much repetition and space. The same code in <span class="caps">SASS</span> looks like this:</p>
<pre name='code' class='css'>!menu_bg = #2277aa
  
#menu
  :margin 0
  :list-style none
  li
    :float left
    a
      :display block
      :float left
      :padding 4px 8px
      :text-decoration none
      :color white
      :background = !menu_bg</pre>

<p>Hierarchical selectors mean that if you indent something, the selector it falls under will automatically be prepended to it, so the two examples above generate the same output. You&#8217;ll also notice <code>!menu_bg</code> in the <span class="caps">SASS</span> code. <span class="caps">SASS</span> allows you to declare constants that can be reused throughout the code, a very useful feature when dealing with colors.</p>
<p>Now we have our basic setup for the menu, but let&#8217;s handle some better cases. I want the color to change when I hover over the menu options and I want to highlight the current menu option (we&#8217;ll assume that the <code>&lt;li&gt;</code> encapsulating the current menu item will have class &#8216;current&#8217; when it is selected). Let&#8217;s add these features first using <span class="caps">CSS</span>, then <span class="caps">SASS</span>. With <span class="caps">CSS</span>:</p>
<pre name='code' class='css'>#menu {
  margin: 0;
  list-style: none;
}

#menu li {
  float: left;
}

#menu li a {
  display: block;
  float: left;
  padding: 4px 8px;
  text-decoration: none;
  background: #2277aa;
  color: white;
}

#menu li a:hover {
  background: #116699;
}

/* Make sure the color doesn't change when the current option is hovered. */
#menu li.current a, #menu li.current a:hover {
  background: white;
  color: black;
}</pre>
<p>This isn&#8217;t too bad, but our selectors keep getting longer and longer. Let&#8217;s look at the same thing in <span class="caps">SASS</span>.</p>
<pre name='code' class='css'>#menu
  :margin 0
  :list-style none
  li
    :float left
    a
      :display block
      :float left
      :padding 4px 8px
      :text-decoration none
      :color white
      :background = !menu_bg
      &amp;:hover
        :background = !menu_bg - #111111
    &amp;.current
      a, a:hover
        :background white
        :color black</pre>

<p>The ampersand (<code>&amp;</code>) in <span class="caps">SASS</span> is a shortcut to insert the entire parent selector at that point. By using <code>&amp;.current</code> I am saying &#8220;the parent selector with a class of current.&#8221; <code>&amp;:hover</code> means &#8220;the parent selector when hovered.&#8221; This makes it easy to write complex selectors in a compact, easy-to-read manner.</p>
<p>Another great thing about <span class="caps">SASS</span> is it has built in <span class="caps">CSS</span> color math. Note where I declared <code>:background = !menu_bg - #111111</code>. That is equivalent to subtracting 1 from each of the values of the constant&#8217;s color, which in this case yields <code>#116699</code>. This is great, because now I can change the color of the menu and the hover state will automatically change without me having to manually find it and recalculate it for a new color. Note that whenever you are using constants or performing calculations you need to add the equals sign to your declaration.</p>
<h3>Getting organized with a master.sass</h3>
<p>Another way you can use <span class="caps">SASS</span> is to organize all of your <span class="caps">CSS</span> into a single file without having to worry about it in your view. I have recently started using this approach for a number of reasons:</p>
<ol>
	<li>It allows me to control stylesheet inclusion from within the stylesheets themselves, making the structure more readable.</li>
	<li>I can define global colors that can then be used in <strong>any</strong> of the child stylesheets.</li>
	<li>It&#8217;s really easy!</li>
</ol>
<p>In a new project, I always create a <code>master.sass</code> that will look something like this:</p>
<pre name='code' class='css'>// Define app-specific colors first
!green = #191
!gray = #555

// Now define globally applicable, general styles

body
  :font-family Arial, sans-serif
  
a
  :color = !green
  :text-decoration none
  :font-weight bold

// Now import all of your other SASS files, they will be
// automatically included in the same generated CSS file
// at compile time.

@import menu.sass
@import content.sass
@import admin.sass
@import users.sass</pre>
<p>Using this structure I have a modular, easily expandable collection of stylesheets with global color constants and basic styles. In addition, I can add this to my Rails application with the simplest of calls:</p>
<pre name='code' class='html'>&lt;%= stylesheet_link_tag 'master' %&gt;</pre>
<h3>Wrapping Up</h3>
<p>Hopefully this gives you a taste of the easy awesomeness that is possible with <span class="caps">SASS</span>. The greatest thing about the library is you don&#8217;t lose touch with writing <span class="caps">CSS</span> because <span class="caps">SASS</span> <strong>is</strong> <span class="caps">CSS</span>, just with a few extras and shortcuts to make power-styling easier.</p>
<p><strong>Update:</strong> A commenter pointed out that I forgot the <code>@</code> before my import statements in the master.sass example, this has been fixed.</p>