<p>This is something that many may already use as a best practice, but if not it&#8217;s something simple and convenient to add to your repertoire. Sometimes you may have a model that requires additional information if a certain condition is met. For example, I may require a user to add more information about themselves if they wish to be listed publicly, whereas I would not if they do not wish to be listed. By combining ActiveSupport&#8217;s <code>Object#with_options</code> and ActiveRecord&#8217;s conditional validations, we can implement this behavior in a straightforward and readable manner (assuming here that there is a boolean field called &#8220;listed&#8221; in the database that is exposed as a checkbox or similar to the user):</p>
<div>
<pre>
<code class='ruby'>class User &amp;lt; ActiveRecord::Base
<ol>
	<li>Our standard validations<br />
  validates_presence_of :login<br />
  validates_uniqueness_of :login</li>
</ol>
<ol>
	<li>Validations for listed users<br />
  with_options :if =&gt; :listed? do |l|<br />
    l.validates_presence_of :email<br />
    l.validates_length_of :description, :minimum =&gt; 100<br />
  end<br />
end</code><br />
  </pre><br />
</div></li>
</ol>
<p>It&#8217;s a simple technique that piggybacks off of Rails&#8217;s automatic construction of existence query methods (in this case, <code>listed?</code>) for fields in the database combined with the mapping power of <code>with_options</code> and standard conditional validations.</p>