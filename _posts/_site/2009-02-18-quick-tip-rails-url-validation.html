<p>After doing a quick <a href="http://www.google.com/search?q=rails+url+validation&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=org.mozilla:en-US:official&amp;client=firefox-a">Google Search</a> I realized that everyone might not know about a great way to do <span class="caps">URL</span> validation in Rails. The secret is a little-known method of the <code>URI</code> class, <code>regexp</code>. It lets you generate a regular expression for matching URLs based on an array of accepted protocols. What&#8217;s even better, it can be plugged directly into Rails&#8217;s <code>validates_format_of</code>. It&#8217;s this easy:</p>
<pre name='code' class='ruby'>class User
  validates_format_of :website, :with =&gt; URI::regexp(%w(http https))
end</pre>
<p>This will match anything that <code>URI.parse</code> will recognize, meaning that it&#8217;s a pretty accurate and powerful <span class="caps">URL</span> matcher. <span class="caps">URL</span> validation was one of those little annoyances in writing Rails models because it really seemed like there should be an easier way. I found mine, so I thought I&#8217;d share it!</p>