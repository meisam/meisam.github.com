<p><span class="caps">JSON</span> has become ubiquitous. From Facebook and Twitter both declaring it to be the preferred (and in some cases only) option for <span class="caps">API</span> access to the new OAuth 2.0 draft spec declaring that <span class="caps">JSON</span> is the only acceptable response format for OAuth token responses, <span class="caps">JSON</span> is here to stay. What isn&#8217;t ubiquitous, however, are people&#8217;s preferred implementations.</p>
<p>As library authors it is our duty to try to support as large a part of the community as possible and do so in a friendly manner. To that end, today we&#8217;re releasing <strong>MultiJSON</strong>, a simple library that allows you to seamlessly provide multiple <span class="caps">JSON</span> backends for your library with intelligent defaulting. Install with a simple <code>gem install multi_json</code> and then get started like so:</p>
<div>
<pre>
<code class='ruby'>require 'multi_json'
<ol>
	<li>Decode using default engine.<br />
MultiJson.decode(&#8216;{&quot;abc&quot;:&quot;def&quot;}) # =&gt; {&quot;abc&quot; =&gt; &quot;def&quot;}&#8217;)</li>
</ol>
<ol>
	<li>Set an engine using a symbol.<br />
MultiJson.engine = :active_support</li>
</ol>
<ol>
	<li>Encode using ActiveSupport<br />
MultiJson.encode({:abc =&gt; &quot;def&quot;}) # =&gt; &#8216;{&quot;abc&quot;:&quot;def&quot;}&#8217;</code><br />
  </pre><br />
</div></li>
</ol>
<p>This gem is primarily for library authors, allowing you to use the best <span class="caps">JSON</span> available on the users&#8217; systems without explicitly requiring one library over another. This way you can be sure that your <span class="caps">JSON</span> handling will work across implementations (e.g. JRuby) as well as requiring as little extra code as possible (the gem detects existing libraries before requiring more by default).</p>
<p>Engines supported by default are:</p>
<ul>
	<li><code>yajl-ruby</code></li>
	<li><code>json</code> (gem)</li>
	<li><code>active_support</code></li>
	<li><code>json_pure</code></li>
</ul>
<p>We hope that this will make development of <span class="caps">JSON</span>-relying libraries a little bit less of a headache for library authors and users alike. The code is, as always, <a href="http://github.com/intridea/multi_json">available on GitHub</a>.</p>